<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/01_overview | agent-swarm-kit</title><meta name="description" content="Documentation for agent-swarm-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">agent-swarm-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">agent-swarm-kit</a></li><li><a href="design_01_overview.html">design/01_overview</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="overview" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Overview<a href="#overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The <strong>agent-swarm-kit</strong> is a TypeScript framework for building orchestrated, multi-agent AI systems that can seamlessly coordinate between different AI models and external tools. This document provides an architectural overview of the framework's core components, service layers, and integration patterns.</p>
<p>The framework enables developers to create swarms of AI agents that can navigate between each other, share conversation history, execute tools, and maintain persistent state across sessions. For specific implementation details of individual components, see <a href="design_02_core_components.html">Core Components</a>. For usage patterns and examples, see <a href="design_05_session_management.html">Usage Patterns</a> and <a href="design_06_model_context_protocol.html">Examples</a>.</p>
<a id="framework-purpose-and-architecture" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Framework Purpose and Architecture<a href="#framework-purpose-and-architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The agent-swarm-kit framework addresses the complexity of building multi-agent AI systems by providing a modular, service-oriented architecture that separates concerns into distinct layers. The system supports multiple AI providers (OpenAI, Ollama, Claude, etc.) within a single conversation flow, automatic session management, and sophisticated tool execution capabilities.</p>
<p><strong>System Architecture Overview</strong></p>
<p><img src="../media/1_Overview_0.svg" alt="Mermaid Diagram"></p>
<a id="core-component-relationships" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Core Component Relationships<a href="#core-component-relationships" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The framework's core components follow a hierarchical relationship where sessions manage swarms, swarms orchestrate agents, and agents execute tools and interact with AI completions.</p>
<p><strong>Component Interaction Flow</strong></p>
<p><img src="../media/1_Overview_1.svg" alt="Mermaid Diagram"></p>
<a id="service-architecture-pattern" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Service Architecture Pattern<a href="#service-architecture-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The framework implements a layered service architecture with three primary service types: Public Services (external API), Connection Services (instance management), and Schema Services (configuration management). This pattern provides clear separation of concerns and enables dependency injection throughout the system.</p>
<table>
<thead>
<tr>
<th>Service Layer</th>
<th>Responsibility</th>
<th>Key Classes</th>
<th>File Locations</th>
</tr>
</thead>
<tbody>
<tr>
<td>Public Services</td>
<td>External API, context scoping</td>
<td><code>AgentPublicService</code>, <code>SessionPublicService</code></td>
<td><code>src/lib/services/public/</code></td>
</tr>
<tr>
<td>Connection Services</td>
<td>Instance management, memoization</td>
<td><code>AgentConnectionService</code>, <code>SessionConnectionService</code></td>
<td><code>src/lib/services/connection/</code></td>
</tr>
<tr>
<td>Schema Services</td>
<td>Configuration, validation</td>
<td><code>AgentSchemaService</code>, <code>ToolSchemaService</code></td>
<td><code>src/lib/services/schema/</code></td>
</tr>
<tr>
<td>Validation Services</td>
<td>Dependency checking, integrity</td>
<td><code>SessionValidationService</code>, <code>SwarmValidationService</code></td>
<td><code>src/lib/services/validation/</code></td>
</tr>
</tbody>
</table>
<p>The service layer uses dependency injection via the <code>di-scoped</code> library, with service registration managed through <code>TYPES</code> constants and accessed via the <code>inject()</code> function pattern seen throughout the codebase.</p>
<a id="data-flow-and-state-management" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Data Flow and State Management<a href="#data-flow-and-state-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The framework manages multiple types of state and data persistence:</p>
<ul>
<li><strong>Session State</strong>: Managed by <code>ClientSession</code> with automatic cleanup and validation</li>
<li><strong>Agent History</strong>: Handled by <code>ClientHistory</code> with message filtering and rotation</li>
<li><strong>Storage</strong>: Embedding-based search via <code>Storage</code> classes with similarity scoring</li>
<li><strong>Shared State</strong>: Cross-agent state via <code>SharedState</code> and <code>SharedStorage</code> classes</li>
<li><strong>Persistence</strong>: JSON file-based storage through <code>PersistBase</code> utilities</li>
</ul>
<p><strong>Message Flow Through History System</strong></p>
<p><img src="../media/1_Overview_2.svg" alt="Mermaid Diagram"></p>
<p>The history system maintains a rotating buffer of messages (configurable via <code>CC_KEEP_MESSAGES</code> in <code>GLOBAL_CONFIG</code>) and applies agent-specific filtering through <code>CC_AGENT_HISTORY_FILTER</code> to ensure each agent only sees relevant tool calls and system messages.</p>
<a id="integration-patterns" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Integration Patterns<a href="#integration-patterns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The framework supports multiple integration patterns for external systems:</p>
<p><strong>Tool Integration</strong>: Tools are defined via <code>IAgentTool</code> interface and registered through <code>addTool()</code>. Tools can be stateful, validate parameters, and include lifecycle callbacks (<code>onBeforeCall</code>, <code>onAfterCall</code>, <code>onCallError</code>).</p>
<p><strong>AI Provider Integration</strong>: Multiple completion providers are supported through the <code>Adapter</code> class pattern, with implementations for OpenAI, Ollama, Cohere, and custom providers via <code>ICompletionSchema</code>.</p>
<p><strong>External Protocol Support</strong>: Model Context Protocol (MCP) integration allows agents to call external tools and services, with automatic tool discovery and execution through <code>MCPConnectionService</code>.</p>
<p><strong>Event System</strong>: The <code>BusService</code> provides event-driven communication between components, with typed events (<code>IBusEvent</code>) and support for custom event handlers via <code>listenEvent()</code> functions.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#overview"><span>Overview</span></a><ul><li><a href="#framework-purpose-and-architecture"><span>Framework <wbr/>Purpose and <wbr/>Architecture</span></a></li><li><a href="#core-component-relationships"><span>Core <wbr/>Component <wbr/>Relationships</span></a></li><li><a href="#service-architecture-pattern"><span>Service <wbr/>Architecture <wbr/>Pattern</span></a></li><li><a href="#data-flow-and-state-management"><span>Data <wbr/>Flow and <wbr/>State <wbr/>Management</span></a></li><li><a href="#integration-patterns"><span>Integration <wbr/>Patterns</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">agent-swarm-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(100273846, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true,
        ecommerce:"dataLayer"
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/100273846" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-85RYYZDT35"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-85RYYZDT35');
</script>
