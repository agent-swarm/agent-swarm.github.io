<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/public_services | agent-swarm-kit</title><meta name="description" content="Documentation for agent-swarm-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">agent-swarm-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">agent-swarm-kit</a></li><li><a href="design_public_services.html">design/public_services</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="public-services" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Public Services<a href="#public-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Public Services form the external API layer of the agent-swarm-kit framework, providing a clean interface for applications to interact with the swarm system. They act as a facade that delegates operations to Connection Services while handling cross-cutting concerns like context scoping, logging, and parameter validation.</p>
<p>For information about the underlying service instances and lifecycle management, see <a href="#3.3">Connection Services</a>. For service registration and dependency injection patterns, see <a href="#3.1">Dependency Injection</a>. For schema-driven service configuration, see <a href="#3.2">Schema Services</a>.</p>
<a id="architecture-overview" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Architecture Overview<a href="#architecture-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Public Services implement a consistent delegation pattern where they wrap Connection Service operations with <code>MethodContextService</code> for proper context scoping. This ensures that operations are executed with the correct <code>clientId</code>, <code>agentName</code>, <code>swarmName</code>, and other contextual parameters.</p>
<a id="public-service-layer-structure" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Public Service Layer Structure<a href="#public-service-layer-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/17_Public_Services_0.svg" alt="Mermaid Diagram"></p>
<a id="core-public-service-classes" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Core Public Service Classes<a href="#core-public-service-classes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The framework provides twelve main Public Service classes, each responsible for a specific domain of functionality:</p>
<table>
<thead>
<tr>
<th>Service Class</th>
<th>Purpose</th>
<th>Delegates To</th>
<th>Key Operations</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AgentPublicService</code></td>
<td>Agent operations</td>
<td><code>AgentConnectionService</code></td>
<td><code>execute</code>, <code>run</code>, <code>commitToolOutput</code></td>
</tr>
<tr>
<td><code>SessionPublicService</code></td>
<td>Session management</td>
<td><code>SessionConnectionService</code></td>
<td><code>emit</code>, <code>connect</code>, <code>commitUserMessage</code></td>
</tr>
<tr>
<td><code>StoragePublicService</code></td>
<td>Client storage</td>
<td><code>StorageConnectionService</code></td>
<td><code>take</code>, <code>upsert</code>, <code>remove</code>, <code>list</code></td>
</tr>
<tr>
<td><code>StatePublicService</code></td>
<td>Client state</td>
<td><code>StateConnectionService</code></td>
<td><code>setState</code>, <code>getState</code>, <code>clearState</code></td>
</tr>
<tr>
<td><code>SwarmPublicService</code></td>
<td>Swarm coordination</td>
<td><code>SwarmConnectionService</code></td>
<td><code>navigationPop</code>, <code>waitForOutput</code>, <code>getAgent</code></td>
</tr>
<tr>
<td><code>HistoryPublicService</code></td>
<td>Message history</td>
<td><code>HistoryConnectionService</code></td>
<td><code>push</code>, <code>pop</code>, <code>toArrayForAgent</code></td>
</tr>
<tr>
<td><code>SharedStoragePublicService</code></td>
<td>Global storage</td>
<td><code>SharedStorageConnectionService</code></td>
<td><code>take</code>, <code>upsert</code>, <code>remove</code>, <code>list</code></td>
</tr>
<tr>
<td><code>SharedStatePublicService</code></td>
<td>Global state</td>
<td><code>SharedStateConnectionService</code></td>
<td><code>setState</code>, <code>getState</code>, <code>clearState</code></td>
</tr>
<tr>
<td><code>PolicyPublicService</code></td>
<td>Policy enforcement</td>
<td><code>PolicyConnectionService</code></td>
<td><code>banClient</code>, <code>getAllowedOrigins</code>, <code>validate</code></td>
</tr>
<tr>
<td><code>MCPPublicService</code></td>
<td>MCP integration</td>
<td><code>MCPConnectionService</code></td>
<td><code>listTools</code>, <code>callTool</code>, <code>getResources</code></td>
</tr>
<tr>
<td><code>ComputePublicService</code></td>
<td>Client compute</td>
<td><code>ComputeConnectionService</code></td>
<td><code>setState</code>, <code>getState</code>, <code>clearState</code></td>
</tr>
<tr>
<td><code>SharedComputePublicService</code></td>
<td>Global compute</td>
<td><code>SharedComputeConnectionService</code></td>
<td><code>setState</code>, <code>getState</code>, <code>clearState</code></td>
</tr>
</tbody>
</table>
<a id="delegation-pattern" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Delegation Pattern<a href="#delegation-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Public Services follow a consistent delegation pattern that provides several key benefits:</p>
<a id="method-context-scoping" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Method Context Scoping<a href="#method-context-scoping" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Every public method wraps its Connection Service call with <code>MethodContextService.runInContext()</code> to establish proper execution context:</p>
<p><img src="../media/17_Public_Services_1.svg" alt="Mermaid Diagram"></p>
<a id="type-safety-with-internal-key-exclusion" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Type Safety with Internal Key Exclusion<a href="#type-safety-with-internal-key-exclusion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Public Services use TypeScript mapped types to exclude internal methods from their interfaces:</p>
<p><img src="../media/17_Public_Services_2.svg" alt="Mermaid Diagram"></p>
<p>This pattern ensures that internal methods like <code>getAgent()</code> in <code>AgentConnectionService</code> or <code>getSwarm()</code> in <code>SwarmConnectionService</code> are not exposed in the public API.</p>
<a id="context-management" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Context Management<a href="#context-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>MethodContextService</code> integration is central to Public Service operations. Each method call establishes a complete execution context:</p>
<a id="context-structure" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Context Structure<a href="#context-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-7">IMethodContext</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">methodName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;    </span><span class="hl-9">// The calling method name</span><br/><span class="hl-1">  </span><span class="hl-2">clientId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;      </span><span class="hl-9">// Session identifier  </span><br/><span class="hl-1">  </span><span class="hl-2">agentName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;     </span><span class="hl-9">// Active agent</span><br/><span class="hl-1">  </span><span class="hl-2">swarmName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;     </span><span class="hl-9">// Target swarm</span><br/><span class="hl-1">  </span><span class="hl-2">storageName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;   </span><span class="hl-9">// Storage scope</span><br/><span class="hl-1">  </span><span class="hl-2">stateName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;     </span><span class="hl-9">// State scope</span><br/><span class="hl-1">  </span><span class="hl-2">mcpName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;       </span><span class="hl-9">// MCP integration</span><br/><span class="hl-1">  </span><span class="hl-2">computeName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;   </span><span class="hl-9">// Compute resource</span><br/><span class="hl-1">  </span><span class="hl-2">policyName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;    </span><span class="hl-9">// Policy enforcement</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>This context allows Connection Services to operate without requiring these parameters explicitly, as they can retrieve context via dependency injection.</p>
<a id="logging-integration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Logging Integration<a href="#logging-integration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All Public Services integrate with <code>LoggerService</code> for consistent logging when <code>GLOBAL_CONFIG.CC_LOGGER_ENABLE_INFO</code> is enabled:</p>
<p><img src="../media/17_Public_Services_3.svg" alt="Mermaid Diagram"></p>
<p>The logging includes method name, parameters, and contextual information for debugging and monitoring.</p>
<a id="service-responsibilities" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Service Responsibilities<a href="#service-responsibilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="agent-operations-agentpublicservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Agent Operations (<code>AgentPublicService</code>)<a href="#agent-operations-agentpublicservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Provides the primary interface for agent execution and lifecycle management:</p>
<ul>
<li><strong>Execution</strong>: <code>execute()</code> for stateful operations, <code>run()</code> for stateless completions</li>
<li><strong>History Management</strong>: <code>commitUserMessage()</code>, <code>commitSystemMessage()</code>, <code>commitAssistantMessage()</code></li>
<li><strong>Tool Integration</strong>: <code>commitToolOutput()</code>, <code>commitToolRequest()</code></li>
<li><strong>Flow Control</strong>: <code>commitStopTools()</code>, <code>commitAgentChange()</code>, <code>commitFlush()</code></li>
</ul>
<a id="session-management-sessionpublicservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Session Management (<code>SessionPublicService</code>)<a href="#session-management-sessionpublicservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Handles client session lifecycle and communication:</p>
<ul>
<li><strong>Messaging</strong>: <code>emit()</code> for async communication, <code>notify()</code> for notifications</li>
<li><strong>Execution</strong>: <code>execute()</code> and <code>run()</code> at session level with validation</li>
<li><strong>Connection</strong>: <code>connect()</code> for bidirectional communication channels</li>
<li><strong>Performance</strong>: Integration with <code>PerfService</code> for execution tracking</li>
</ul>
<a id="storage-operations-storagepublicservice--sharedstoragepublicservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Storage Operations (<code>StoragePublicService</code> / <code>SharedStoragePublicService</code>)<a href="#storage-operations-storagepublicservice--sharedstoragepublicservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Manages data persistence with embedding-based search:</p>
<ul>
<li><strong>Retrieval</strong>: <code>take()</code> for similarity-based search, <code>get()</code> for direct access, <code>list()</code> for enumeration</li>
<li><strong>Modification</strong>: <code>upsert()</code> for insert/update, <code>remove()</code> for deletion, <code>clear()</code> for reset</li>
<li><strong>Scope</strong>: Client-specific vs. shared storage instances</li>
</ul>
<a id="state-management-statepublicservice--sharedstatepublicservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">State Management (<code>StatePublicService</code> / <code>SharedStatePublicService</code>)<a href="#state-management-statepublicservice--sharedstatepublicservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Provides reactive state management with middleware support:</p>
<ul>
<li><strong>State Operations</strong>: <code>setState()</code> with dispatch functions, <code>getState()</code> for access, <code>clearState()</code> for reset</li>
<li><strong>Middleware</strong>: Support for state transformation and validation pipelines</li>
<li><strong>Persistence</strong>: Configurable persistence via schema settings</li>
</ul>
<a id="performance-and-validation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Performance and Validation<a href="#performance-and-validation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Public Services integrate with several cross-cutting concerns:</p>
<a id="performance-monitoring" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Performance Monitoring<a href="#performance-monitoring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>SessionPublicService</code> includes <code>PerfService</code> integration for execution tracking:</p>
<p><img src="../media/17_Public_Services_4.svg" alt="Mermaid Diagram"></p>
<p>This tracks execution duration, session state, and performance metrics.</p>
<a id="validation-services" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Validation Services<a href="#validation-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Public Services coordinate with validation services for integrity checks:</p>
<ul>
<li><strong>Session Validation</strong>: Prevents recursive tool execution and navigation</li>
<li><strong>Execution Validation</strong>: Controls model tool calling behavior</li>
<li><strong>Navigation Validation</strong>: Manages agent switching constraints</li>
</ul>
<a id="integration-with-core-components" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Integration with Core Components<a href="#integration-with-core-components" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Public Services serve as the bridge between external applications and the core swarm system:</p>
<p><img src="../media/17_Public_Services_5.svg" alt="Mermaid Diagram"></p>
<p>This architecture ensures clean separation between external interfaces and internal implementation details while providing comprehensive functionality for multi-agent AI systems.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#public-services"><span>Public <wbr/>Services</span></a><ul><li><a href="#architecture-overview"><span>Architecture <wbr/>Overview</span></a></li><li><ul><li><a href="#public-service-layer-structure"><span>Public <wbr/>Service <wbr/>Layer <wbr/>Structure</span></a></li></ul></li><li><a href="#core-public-service-classes"><span>Core <wbr/>Public <wbr/>Service <wbr/>Classes</span></a></li><li><a href="#delegation-pattern"><span>Delegation <wbr/>Pattern</span></a></li><li><ul><li><a href="#method-context-scoping"><span>Method <wbr/>Context <wbr/>Scoping</span></a></li><li><a href="#type-safety-with-internal-key-exclusion"><span>Type <wbr/>Safety with <wbr/>Internal <wbr/>Key <wbr/>Exclusion</span></a></li></ul></li><li><a href="#context-management"><span>Context <wbr/>Management</span></a></li><li><ul><li><a href="#context-structure"><span>Context <wbr/>Structure</span></a></li></ul></li><li><a href="#logging-integration"><span>Logging <wbr/>Integration</span></a></li><li><a href="#service-responsibilities"><span>Service <wbr/>Responsibilities</span></a></li><li><ul><li><a href="#agent-operations-agentpublicservice"><span>Agent <wbr/>Operations (<wbr/>Agent<wbr/>Public<wbr/>Service)</span></a></li><li><a href="#session-management-sessionpublicservice"><span>Session <wbr/>Management (<wbr/>Session<wbr/>Public<wbr/>Service)</span></a></li><li><a href="#storage-operations-storagepublicservice--sharedstoragepublicservice"><span>Storage <wbr/>Operations (<wbr/>Storage<wbr/>Public<wbr/>Service / <wbr/>Shared<wbr/>Storage<wbr/>Public<wbr/>Service)</span></a></li><li><a href="#state-management-statepublicservice--sharedstatepublicservice"><span>State <wbr/>Management (<wbr/>State<wbr/>Public<wbr/>Service / <wbr/>Shared<wbr/>State<wbr/>Public<wbr/>Service)</span></a></li></ul></li><li><a href="#performance-and-validation"><span>Performance and <wbr/>Validation</span></a></li><li><ul><li><a href="#performance-monitoring"><span>Performance <wbr/>Monitoring</span></a></li><li><a href="#validation-services"><span>Validation <wbr/>Services</span></a></li></ul></li><li><a href="#integration-with-core-components"><span>Integration with <wbr/>Core <wbr/>Components</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">agent-swarm-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(100273846, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true,
        ecommerce:"dataLayer"
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/100273846" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-85RYYZDT35"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-85RYYZDT35');
</script>
